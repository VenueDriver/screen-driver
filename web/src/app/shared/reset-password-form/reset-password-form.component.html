
<form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
    <div [class.has-error]="hasError('identityVerificationCode')"
         class="form-group">

        <label class="control-label" for="identity-verification-code">{{identityVerificationFieldLabel}}</label>

        <input formControlName="identityVerificationCode"
               class="form-control"
               id="identity-verification-code"
               type="password"
               input-autofocus>

        <span *ngIf="hasError('identityVerificationCode'); else emptyRowTemplate"
              class="help-block">
                {{getValidationMessage('identityVerificationCode')}}
        </span>
    </div>

    <div [class.has-error]="hasError('newPassword')"
         class="form-group">

        <label class="control-label" for="new-password">New password</label>

        <input formControlName="newPassword"
               class="form-control"
               id="new-password"
               type="password">

        <span *ngIf="hasError('newPassword'); else emptyRowTemplate"
              class="help-block">
                {{getValidationMessage('newPassword')}}
        </span>
    </div>

    <div [class.has-error]="hasError('confirmedPassword')"
         class="form-group">

        <label class="control-label" for="confirm-new-password">Confirm new password</label>
        <input formControlName="confirmedPassword"
               class="form-control"
               id="confirm-new-password"
               type="password">
        <span *ngIf="hasError('confirmedPassword'); else emptyRowTemplate"
              class="help-block">
                {{getValidationMessage('confirmedPassword')}}
        </span>
    </div>

    <button type="submit"
            class="btn btn-success btn-block"
            [disabled]="formInvalid()">
        Change
    </button>

    <div class="option-button-container">
        <button type="button"
                class="btn btn-link"
                (click)="performCancel()">
            Cancel
        </button>
    </div>
</form>

<ng-template #emptyRowTemplate>&nbsp;</ng-template>
