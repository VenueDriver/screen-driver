<div>
    <ng-template class="node-template" #template let-node="node" let-index="index">
        <div class="single-node"
             [ngClass]="{'node-without-children': !hasChildren(node)}">
            <div *ngIf="!isCurrentNode(node)" class="node-info">
                <div class="node-name">
                    <span class="node-level-name">{{getNodeLevelName(node)}}</span>: {{node.data.name}}
                </div>

                <div *ngIf="hasContentInfo(node); else contentPlaceholder" class="content-info">
                    <span class="content-short-name">{{ getContentShortName(node) }}</span>
                    <span class="content-url">{{ getContentUrl(node) }}</span>
                </div>
                <ng-template #contentPlaceholder>
                    <div class="content-url-placeholder info-message">{{getPlaceholderForDefaultUrl(node)}}</div>
                </ng-template>
            </div>

            <div class="buttons-container">
                <div *ngIf="isAllowToRefreshScreenContent(node)"
                     class="node-button refresh-button"
                     (click)="refreshContent(node.data.id)"
                     [title]="getRefreshButtonTitle(node)">
                </div>

                <div class="node-button update-client-button"
                     *ngIf="isAllowToUpdateClientApp(node)"
                     (click)="updateClientApps($event, node);"
                     [title]="getUpdateClientButtonTitle(node)">
                </div>
            </div>
        </div>
    </ng-template>
    <venues-tree-view [venues]="venues" [template]="template" [hasSelectedNode]="hasCurrentNode()"></venues-tree-view>
</div>
