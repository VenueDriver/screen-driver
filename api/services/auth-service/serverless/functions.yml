authorizer:
  handler: src/auth/authorizer.handler

authenticate:
  handler: src/auth/authenticator.handler
  events:
    - http:
        path: api/auth/sign_in
        method: post
        cors: true

sign_out:
  handler: src/auth/sign_out.handler
  events:
    - http:
        path: api/auth/sign_out
        method: post
        cors: true

refresh_token:
  handler: src/auth_token/auth_token.refresh
  events:
    - http:
        path: api/auth/token/refresh
        method: post
        cors: true

create_user:
  handler: src/user/create.create
  events:
    - http:
        path: api/auth/users
        method: post
        cors: true
        authorizer: ${self:custom.authorizer}

get_users_list:
  handler: src/user/list.list
  events:
    - http:
        path: api/auth/users
        method: get
        cors: true
        authorizer: ${self:custom.authorizer}

update_user:
  handler: src/user/update.update
  events:
    - http:
        path: api/auth/users/{id}
        method: put
        cors: true
        authorizer: ${self:custom.authorizer}

update_user_status:
  handler: src/user/update_status.handler
  events:
    - http:
        path: api/auth/users/{id}/enabled
        method: patch
        cors: true
        authorizer: ${self:custom.authorizer}

edit_user_profile:
  handler: src/user/edit-profile.editProfile
  events:
    - http:
        path: api/auth/edit-profile
        method: post
        cors: true
        authorizer: ${self:custom.authorizer}
